{"version":3,"sources":["reportWebVitals.js","axios.js","components/image.js","components/navbar.js","components/post.js","pages/Login.js","pages/Submit.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","create","process","Image","props","useState","src","setSrc","useEffect","onError","length","Carousel","interval","map","index","Item","alt","className","postid","concat","NavbarEl","Navbar","bg","expand","Brand","to","Toggle","aria-controls","Collapse","id","Nav","Text","NavDropdown","title","href","Divider","user","Button","username","onClick","setUser","localStorage","removeItem","Post","post","setPost","location","useLocation","pathname","split","state","get","res","data","text","setText","handleSubmit","e","a","headers","Authorization","token","console","log","Object","keys","Card","Header","date","_id","attachment","Body","style","opacity","overflow","Form","onSubmit","Group","Control","value","onChange","target","placeholder","variant","type","comment","Signup","setUsername","password","setPassword","message","setMessage","preventDefault","setItem","JSON","stringify","history","push","controlId","Label","Login","Submit","setTitle","setAttachment","Posts","posts","setPosts","page","setPage","hasMore","setHasMore","forEach","Date","createdAt","toDateString","document","dataLength","next","loader","endMessage","scrollThreshold","About","App","body","clientHeight","window","scrollY","innerHeight","getItem","parse","exact","path","render","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.34fd5ab8.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import axios from \"axios\";\r\n\r\n// use proxy in development environment\r\nconst instance = axios.create(\r\n  process.env.NODE_ENV === \"development\" && {\r\n    baseURL: \"http://localhost:5000/\",\r\n  }\r\n);\r\n\r\nexport default instance;\r\n","import { Carousel } from \"react-bootstrap\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst Image = (props) => {\r\n  const [src, setSrc] = useState([]);\r\n  useEffect(() => {\r\n    setSrc(props.src);\r\n  }, [props.src]);\r\n\r\n  const onError = () => {\r\n    setSrc([\"/logo192.png\"]);\r\n  };\r\n\r\n  return src.length > 1 ? (\r\n    <Carousel interval={null}>\r\n      {src.map((src, index) => {\r\n        return (\r\n          <Carousel.Item key={props.postid.concat(index)}>\r\n            <img\r\n              alt=\"Post\"\r\n              className=\"w-100 h-auto\"\r\n              {...props}\r\n              src={src}\r\n              onError={onError}\r\n            />\r\n          </Carousel.Item>\r\n        );\r\n      })}\r\n    </Carousel>\r\n  ) : (\r\n    <img alt=\"Post\" className=\"w-100 h-auto\" {...props} src={src} onError={onError} />\r\n  );\r\n};\r\n\r\nexport { Image };\r\n","import { Link } from \"react-router-dom\";\r\nimport { Navbar, Nav, NavDropdown, Button } from \"react-bootstrap\";\r\nimport React from \"react\";\r\n\r\nconst NavbarEl = (props) => {\r\n  return (\r\n    <Navbar className=\"navbar\" bg=\"light\" expand=\"lg\">\r\n      <Navbar.Brand>\r\n        <Link to=\"/\">Linky</Link>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <Navbar.Text>\r\n            <Link to=\"/about\">About</Link>\r\n          </Navbar.Text>\r\n          <NavDropdown title=\"Topics\" id=\"basic-nav-dropdown\">\r\n            <NavDropdown.Item href=\"#action/2.1\">Action</NavDropdown.Item>\r\n            <NavDropdown.Item href=\"#action/2.2\">\r\n              Another action\r\n            </NavDropdown.Item>\r\n            <NavDropdown.Item href=\"#action/2.3\">Something</NavDropdown.Item>\r\n            <NavDropdown.Divider />\r\n            <NavDropdown.Item href=\"#action/2.4\">\r\n              Separated link\r\n            </NavDropdown.Item>\r\n          </NavDropdown>{\" \"}\r\n        </Nav>{\" \"}\r\n        {props.user && <Link to=\"/submit\"><Button>Create Post</Button></Link>}\r\n        {props.user ? (\r\n\r\n          <NavDropdown title={props.user.username}>\r\n            <NavDropdown.Item\r\n              onClick={() => {\r\n                props.setUser();\r\n                localStorage.removeItem(\"user\");\r\n              }}\r\n            >\r\n              Sign out\r\n            </NavDropdown.Item>\r\n          </NavDropdown>\r\n\r\n        ) : (\r\n          <Link to=\"/login\">\r\n            <Button>Login</Button>\r\n          </Link>\r\n        )}\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport { NavbarEl };\r\n","import { useState, useEffect } from \"react\";\r\n\r\nimport axios from \"../axios\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\n\r\nimport { Image } from \"../components/image\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nconst Post = (props) => {\r\n  const [post, setPost] = useState({});\r\n  let location = useLocation();\r\n\r\n  const pathname = location.pathname.split(\"/\");\r\n  const id = pathname[pathname.length - 1];\r\n\r\n  useEffect(() => {\r\n    setPost(location.state);\r\n    // todo: conditionally make axios request\r\n    axios.get(\"api/post/\" + id).then((res) => {\r\n      setPost(res.data[0]);\r\n    });\r\n  }, [id, location]);\r\n\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    try {\r\n      const res = await axios.post(\r\n        `/api/post/${id}/comment`,\r\n        { text },\r\n        { headers: { Authorization: `Bearer ${props.user.token}` } }\r\n      );\r\n      console.log(res);\r\n    } catch (error) {\r\n      console.log(\"Message send failed.\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {post && Object.keys(post).length > 0 ? (\r\n        <div>\r\n          <Card key={post._id} className=\"mb-5\">\r\n            <Card.Header>\r\n              <p>{post.username}</p>\r\n              <p>{post.date}</p>\r\n            </Card.Header>\r\n            <Image postid={post._id} src={post.attachment} />\r\n\r\n            <Card.Body style={{ opacity: 0.8 }}>\r\n              <Card.Text className=\"my-1\">{post.text}</Card.Text>\r\n              <div style={{ overflow: \"auto\" }}>\r\n                <Card.Text className=\"float-left mb-1\">{post.date}</Card.Text>\r\n                <Card.Text className=\"float-right\">\r\n                  <i className=\"fas fa-share\"></i>\r\n                  <i className=\"fas fa-heart mx-2\"></i>\r\n                </Card.Text>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          <div className=\"comment\">\r\n            {props.user ? (\r\n              <div>\r\n                <Form onSubmit={handleSubmit} className=\"overflow-hidden mb-5\">\r\n                  <Form.Group>\r\n                    <Form.Control\r\n                      value={text}\r\n                      onChange={({ target }) => setText(target.value)}\r\n                      placeholder=\"Type your comment here\"\r\n                    />\r\n                  </Form.Group>\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    type=\"submit\"\r\n                    className=\"float-right\"\r\n                  >\r\n                    Submit\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    type=\"submit\"\r\n                    className=\"float-right mr-2\"\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </Form>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <Form className=\"overflow-hidden mb-5\">\r\n                  <Form.Group>\r\n                    <Form.Control placeholder=\"You must be logged in to comment\" />\r\n                  </Form.Group>\r\n\r\n                  <Link to=\"/login\">\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      type=\"submit\"\r\n                      className=\"float-right\"\r\n                    >\r\n                      Login\r\n                    </Button>\r\n                  </Link>\r\n                </Form>\r\n              </div>\r\n            )}\r\n\r\n            <hr />\r\n            {post.comment.map((comment) => (\r\n              <Card.Text>\r\n                <span>\r\n                  <b>{comment.username}</b>\r\n                </span>\r\n                <span className=\"ml-3\">{comment.text}</span>\r\n              </Card.Text>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div></div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Post };\r\n","import { Form, Button } from \"react-bootstrap\";\r\nimport axios from \"../axios\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Signup = (props) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post(\"/api/user/signup\", { username, password });\r\n      if (res.data) {\r\n        localStorage.setItem(\"token\", JSON.stringify(res.data));\r\n        props.setUser(res.data)\r\n        props.history.push(\"/\");\r\n      }\r\n    } catch (error) {\r\n      setUsername(\"\");\r\n      setPassword(\"\");\r\n      setMessage(\"Unable to sign-up.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter username\"\r\n            value={username}\r\n            onChange={({ target }) => setUsername(target.value)}\r\n          />\r\n          <Form.Text className=\"text-muted\">\r\n            We'll never share your email with anyone else.\r\n          </Form.Text>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={({ target }) => setPassword(target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Text>{message}</Form.Text>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Login = (props) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post(\"/api/user/login\", { username, password });\r\n      if (res.data) {\r\n        localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n        props.setUser(res.data);\r\n        props.history.push(\"/\");\r\n      }\r\n    } catch (error) {\r\n      setUsername(\"\");\r\n      setPassword(\"\");\r\n      setMessage(\"Unable to login.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app login\">\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Email address</Form.Label>\r\n          <Form.Control\r\n            placeholder=\"Enter email\"\r\n            value={username}\r\n            onChange={({ target }) => setUsername(target.value)}\r\n          />\r\n          <Form.Text className=\"text-muted\">\r\n            We'll never share your email with anyone else.\r\n          </Form.Text>\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={({ target }) => setPassword(target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Text>\r\n          Don't have an account? Sign up <Link to=\"/signup\"><u>here.</u></Link>\r\n        </Form.Text>\r\n        <Form.Text>{message}</Form.Text>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Login, Signup };\r\n","import { Form, Button } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\nimport axios from \"../axios\";\r\n\r\nconst Submit = (props) => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [attachment, setAttachment] = useState(\"\");\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post(\r\n        `/api/post`,\r\n        { text, attachment, title },\r\n        { headers: { Authorization: `Bearer ${props.user.token}` } }\r\n      );\r\n      console.log(res);\r\n    } catch (error) {\r\n      console.log(\"Message send failed.\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app login\">\r\n      <h2>Make a new post</h2>\r\n\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group>\r\n          <Form.Control\r\n            value={title}\r\n            onChange={({ target }) => setTitle(target.value)}\r\n            placeholder=\"Title\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Control\r\n            value={attachment}\r\n            onChange={({ target }) => setAttachment(target.value)}\r\n            placeholder=\"Attachment URL\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Control\r\n            value={text}\r\n            onChange={({ target }) => setText(target.value)}\r\n            className=\"submit\"\r\n            placeholder=\"Text\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Submit };\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\nimport axios from \"./axios\";\r\n\r\nimport { Image } from \"./components/image\";\r\nimport { Pagination } from \"./components/pagination\";\r\nimport { NavbarEl } from \"./components/navbar\";\r\nimport { Post } from \"./components/post\";\r\nimport { Card, Button, Form } from \"react-bootstrap\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nimport { Login, Signup } from \"./pages/Login\";\r\nimport { Submit } from \"./pages/Submit\"\r\n\r\nimport \"./App.css\";\r\n\r\nconst Posts = (props) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [hasMore, setHasMore] = useState(true);\r\n\r\n  const fetchPosts = () => {\r\n    axios.get(`api/posts/${page}`).then((res) => {\r\n      if (res.data.length > 0) {\r\n        res.data.forEach((post) => {\r\n          post.date = new Date(post.createdAt).toDateString();\r\n        });\r\n        setPosts(posts.concat(res.data));\r\n        setPage(page + 1);\r\n      } else {\r\n        setHasMore(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.get(`api/posts/${page}`).then((res) => {\r\n      res.data.forEach((post) => {\r\n        post.date = new Date(post.createdAt).toDateString();\r\n      });\r\n      setPosts(res.data);\r\n      setPage(page + 1);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.title = \"Linky\";\r\n  }, []);\r\n\r\n  return (\r\n    <div {...props}>\r\n      <InfiniteScroll\r\n        dataLength={posts.length}\r\n        next={fetchPosts}\r\n        hasMore={hasMore}\r\n        loader={<h4>Loading...</h4>}\r\n        endMessage={<h4>End of posts...</h4>}\r\n        scrollThreshold={0.95}\r\n      >\r\n        {posts.map((post) => (\r\n          <Card key={post._id} className=\"mb-5\">\r\n            <Card.Header>\r\n              <div className=\"overflow-auto\">\r\n                <p className=\"float-left\">{post.username}</p>\r\n                <p className=\"float-right\">{post.date}</p>\r\n              </div>\r\n              <p>\r\n                <b>{post.title}</b>\r\n              </p>\r\n            </Card.Header>\r\n\r\n            <Image postid={post._id} src={post.attachment} />\r\n\r\n            <Card.Body style={{ opacity: 0.8 }}>\r\n              <Card.Text className=\"my-1\">{post.text}</Card.Text>\r\n              <div style={{ overflow: \"auto\" }}>\r\n                <Card.Text className=\"float-right\">\r\n                  <i className=\"fas fa-share\"></i>\r\n                  <i className=\"fas fa-heart mx-2\"></i>\r\n                </Card.Text>\r\n              </div>\r\n              {post.comment.map((comment) => (\r\n                <Card.Text>\r\n                  <span>\r\n                    <b>{comment.username}</b>\r\n                  </span>\r\n                  <span className=\"ml-3\">{comment.text}</span>\r\n                </Card.Text>\r\n              ))}\r\n              <Card.Text>\r\n                <Link to={{ pathname: \"/post/\" + post._id }}>\r\n                  See full post\r\n                </Link>\r\n              </Card.Text>\r\n            </Card.Body>\r\n          </Card>\r\n        ))}\r\n      </InfiniteScroll>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst About = () => {\r\n  useEffect(() => {\r\n    document.title = \"About\";\r\n  }, []);\r\n\r\n  return <p className=\"mx-1 mt-4\">Linky</p>;\r\n};\r\n\r\nconst App = () => {\r\n  const [user, setUser] = useState();\r\n  useEffect(() => {\r\n    console.log(document.body.clientHeight);\r\n    console.log(window.scrollY);\r\n    console.log(window.innerHeight);\r\n    let user = localStorage.getItem(\"user\");\r\n    if (user) {\r\n      user = JSON.parse(user);\r\n      setUser(user);\r\n    }\r\n  }, []);\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <NavbarEl user={user} setUser={setUser} />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Posts className=\"app\" />\r\n          </Route>\r\n\r\n          <Route path=\"/about\">\r\n            <About />\r\n          </Route>\r\n          <Route\r\n            path=\"/post/:id\"\r\n            render={(props) => <Post user={user} />}\r\n          ></Route>\r\n          <Route\r\n            path=\"/login\"\r\n            render={(props) => <Login setUser={setUser} {...props} />}\r\n          ></Route>\r\n          <Route\r\n            path=\"/signup\"\r\n            render={(props) => <Signup setUser={setUser} {...props} />}\r\n          ></Route>\r\n          <Route\r\n            path=\"/submit\"\r\n            render={(props) => <Submit user={user} />}\r\n          ></Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"./index.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}